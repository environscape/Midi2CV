# CV2Midi V1.0 使用手册 #



一、硬件及接口介绍





*   **接口配置**：



    *   1x Trs Midi Out（MIDI 输出接口）


    *   8x CV In（CV 输入接口，共 8 路）


二、硬件使用说明





1.  **电源连接**：
    10p 电源接口位于模块上方，连接电源时需注意红线方向与 10p 灰色排线保持一致（模块内置电源反接保护功能，但仍建议规范操作）。


    10p 电源接口位于模块上方，连接电源时需注意红线方向与 10p 灰色排线保持一致（模块内置电源反接保护功能，但仍建议规范操作）。


2.  **开机提示**：
    模块接通电源后，提示灯将点亮 3 秒，用于确认供电正常。


    模块接通电源后，提示灯将点亮 3 秒，用于确认供电正常。


3.  **预设切换与指示**：
    可通过物理按键切换 4 种预设模式，当前模式通过指示灯显示：


    可通过物理按键切换 4 种预设模式，当前模式通过指示灯显示：


*   预设 1：灭灯


*   预设 2：绿灯亮


*   预设 3：红灯亮


*   预设 4：黄灯亮


三、软件功能介绍





*   8 个 CV 接口可将 0-5V 模拟信号转换为 8 路 MIDI 信息，所有 MIDI 信号通过 Trs Midi 接口输出。


*   **输入范围**：支持 0-5V CV 信号，内置保护电路，超出范围的信号将进行简单削波处理（限制在有效范围内）。


四、MIDI 参数配置 / 定制介绍



### 两种配置方式&#xA;

#### 方式一：提供映射清单，由技术人员配置（适合普通用户）&#xA;

购买时可提供自定义映射清单，我们将为您预先配置 4 组预设（每组对应 8 个 CV 接口）。
配置表与详情请见文档最下方的 'CV2Midi 配置映射清单'

需提供的配置信息包括（每组预设）：




*   每个 CV 接口（0-7）对应的 MIDI 通道（1-16）


*   消息类型（4 种可选，见下文说明）


*   若为 CC 消息，需指定 CC 编号（0-127）


#### 方式二：自行修改代码（适合 DIY 用户）&#xA;



1.  访问源码仓库获取程序：[https://github.com/environscape/Midi2CV/tree/master/CV2Midi_v1.0](https://github.com/environscape/Midi2CV/tree/master/CV2Midi_v1.0)

2.  打开`CV2Midi_vxx.ino`文件，查找`CVPreset1`-`CVPreset4`数组（分别对应 4 组预设）。


3.  配置数组说明（以`CVPreset1`为例）：




```
const byte CVPreset1[8][3] = { // 举例说明
  { 3, NOTE_NUMBER, 0 },       // CV0: 通道3, 音符编号
  { 3, NOTE_ON_OFF, 0 },       // CV1: 通道3, 音符开关
  { 3, NOTE_VEL, 0 },          // CV2: 通道3, 音符力度
  { 3, CONTROL_CHANGE, 21 },   // CV3: 通道3, CC编号21
  { 3, CONTROL_CHANGE, 74 },   // CV4: 通道3, CC编号74
  { 10, CONTROL_CHANGE, 40 },  // CV5: 通道10, CC编号40
  { 10, CONTROL_CHANGE, 46 },  // CV6: 通道10, CC编号46
  { 10, CONTROL_CHANGE, 50 }   // CV7: 通道10, CC编号50
};
```

每个子数组格式：`{ MIDI通道, 消息类型, 附加参数 }`



*   **MIDI 通道**：1-16


*   **消息类型**：必须使用以下枚举值



    *   `NOTE_NUMBER`（音符编号）


    *   `NOTE_ON_OFF`（音符开关）


    *   `NOTE_VEL`（音符力度）


    *   `CONTROL_CHANGE`（CC 消息）


*   **附加参数**：



    *   非 CC 消息填`0`；CC 消息填 CC 编号（0-127）


### 4 种 MIDI 消息类型说明&#xA;



1.  **音符编号**：将 CV 转换为 MIDI 音符（范围 C0-C8，对应 12-108），需配合 “音符开关” 触发。


2.  **音符开关**：CV＞2.5V 时发送 Note On，≤2.5V 时发送该通道 “所有音符关闭”，需配合 “音符编号” 使用。


3.  **音符力度**：将 CV 转换为力度值（30-127），下次触发 Note On 时生效。


4.  **CC 消息**：将 CV 转换为指定 CC 编号的数值（0-127）。


五、固件更新说明



### 准备工作&#xA;



*   安装 Arduino IDE（官方下载：[https://www.arduino.cc/en/software](https://www.arduino.cc/en/software)）


*   安装 MIDI 库：下载 [https://github.com/FortySevenEffects/arduino_midi_library](https://github.com/FortySevenEffects/arduino_midi_library) 的 ZIP 包，通过 Arduino IDE 的 “库管理器” 安装。


*   下载固件程序，解压后找到对应的`.ino`文件。


### 更新步骤&#xA;



1.  用 USB 数据线连接模块与电脑，打开 Arduino IDE 并加载`.ino`文件。


2.  选择设备：


*   点击左上角 “工具”→“端口”，选中连接模块的 COM 口。


*   点击 “工具”→“开发板”，选择 “Arduino Nano”。


*   点击 “工具”→“处理器”，选择 “Atmega168”。


1.  点击左上角 “上传” 按钮（右箭头图标），等待右下角提示 “上传完成”。


2.  上传完成后，重新装回跳线帽，完成更新。


> 注：开发板和处理器选择仅需设置一次，更换
>
> `.ino`
>
> 文件时需重新确认。
>
>

> （注：文档部分内容可能由 AI 生成）
>


# CV2Midi 配置映射清单（非技术人员用） #



填写说明



请为 4 个预设（预设 1-4）分别配置 8 个 CV 接口（CV0-CV7）的参数。每个接口需填写以下信息：




*   **CV 编号**：固定为 0-7（对应模块上的 8 个 CV 输入接口）


*   **MIDI 通道**：1-16 之间的数字（如 “3” 代表第 3 通道）


*   **消息类型**：从以下 4 种里选 1 个：
    ① 音符编号（控制发送的音符，需配合 “音符开关” 使用）
    ② 音符开关（控制音符的开启 / 关闭，CV＞2.5V 时开，≤2.5V 时关）
    ③ 音符力度（控制音符的力度大小，下次开音符时生效）
    ④ CC 消息（需额外填写 “CC 编号”，范围 0-127）


    ① 音符编号（控制发送的音符，需配合 “音符开关” 使用）
    ② 音符开关（控制音符的开启 / 关闭，CV＞2.5V 时开，≤2.5V 时关）
    ③ 音符力度（控制音符的力度大小，下次开音符时生效）
    ④ CC 消息（需额外填写 “CC 编号”，范围 0-127）


    ② 音符开关（控制音符的开启 / 关闭，CV＞2.5V 时开，≤2.5V 时关）
    ③ 音符力度（控制音符的力度大小，下次开音符时生效）
    ④ CC 消息（需额外填写 “CC 编号”，范围 0-127）


    ③ 音符力度（控制音符的力度大小，下次开音符时生效）
    ④ CC 消息（需额外填写 “CC 编号”，范围 0-127）


    ④ CC 消息（需额外填写 “CC 编号”，范围 0-127）


*   **CC 编号**：仅 “CC 消息” 需要填（0-127），其他类型填 “无”


示例：预设 1 配置表





| CV 编号&#xA; | MIDI 通道&#xA; | 消息类型&#xA;  | CC 编号&#xA; |
| --------- | ---------- | ------------ | ---------- |
| CV0&#xA;   | 3&#xA;       | 音符编号&#xA;  | 无&#xA;     |
| CV1&#xA;   | 3&#xA;       | 音符开关&#xA;  | 无&#xA;     |
| CV2&#xA;   | 3&#xA;       | 音符力度&#xA;  | 无&#xA;     |
| CV3&#xA;   | 3&#xA;       | CC 消息&#xA; | 21&#xA;    |
| CV4&#xA;   | 3&#xA;       | CC 消息&#xA; | 74&#xA;    |
| CV5&#xA;   | 10&#xA;      | CC 消息&#xA; | 40&#xA;    |
| CV6&#xA;   | 10&#xA;      | CC 消息&#xA; | 46&#xA;    |
| CV7&#xA;   | 10&#xA;      | CC 消息&#xA; | 50&#xA;    |

请您填写的配置表



### 预设 1&#xA;



| CV 编号&#xA; | MIDI 通道&#xA; | 消息类型（选①②③④）&#xA; | CC 编号（仅④需填）&#xA; |
| ---------- | ------------ | ---------------- | ---------------- |
| CV0&#xA;   |              |                  |                  |
| CV1&#xA;   |              |                  |                  |
| CV2&#xA;   |              |                  |                  |
| CV3&#xA;   |              |                  |                  |
| CV4&#xA;   |              |                  |                  |
| CV5&#xA;   |              |                  |                  |
| CV6&#xA;   |              |                  |                  |
| CV7&#xA;   |              |                  |                  |

### 预设 2&#xA;



| CV 编号&#xA; | MIDI 通道&#xA; | 消息类型（选①②③④）&#xA; | CC 编号（仅④需填）&#xA; |
| ---------- | ------------ | ---------------- | ---------------- |
| CV0&#xA;   |              |                  |                  |
| CV1&#xA;   |              |                  |                  |
| CV2&#xA;   |              |                  |                  |
| CV3&#xA;   |              |                  |                  |
| CV4&#xA;   |              |                  |                  |
| CV5&#xA;   |              |                  |                  |
| CV6&#xA;   |              |                  |                  |
| CV7&#xA;   |              |                  |                  |

### 预设 3&#xA;



| CV 编号&#xA; | MIDI 通道&#xA; | 消息类型（选①②③④）&#xA; | CC 编号（仅④需填）&#xA; |
| ---------- | ------------ | ---------------- | ---------------- |
| CV0&#xA;   |              |                  |                  |
| CV1&#xA;   |              |                  |                  |
| CV2&#xA;   |              |                  |                  |
| CV3&#xA;   |              |                  |                  |
| CV4&#xA;   |              |                  |                  |
| CV5&#xA;   |              |                  |                  |
| CV6&#xA;   |              |                  |                  |
| CV7&#xA;   |              |                  |                  |

### 预设 4&#xA;



| CV 编号&#xA; | MIDI 通道&#xA; | 消息类型（选①②③④）&#xA; | CC 编号（仅④需填）&#xA; |
| ---------- | ------------ | ---------------- | ---------------- |
| CV0&#xA;   |              |                  |                  |
| CV1&#xA;   |              |                  |                  |
| CV2&#xA;   |              |                  |                  |
| CV3&#xA;   |              |                  |                  |
| CV4&#xA;   |              |                  |                  |
| CV5&#xA;   |              |                  |                  |
| CV6&#xA;   |              |                  |                  |
| CV7&#xA;   |              |                  |                  |

>
>